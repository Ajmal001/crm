{#
    Renders javascript for channel form
    param:
        form - Symfony\Component\Form\FormView
#}
{% macro renderChannelFormJS(form) %}
    <script type="text/javascript">
        require(['jquery', 'orocrmchannel/js/channel-view'],
                function ($, ChannelView) {
                    var view = new ChannelView({
                        formSelector: {{ ('#' ~ form.vars.id)|json_encode|raw }},
                        fields: {
                            name: {{ ('#' ~ form.name.vars.id)|json_encode|raw }},
                            channelType: {{ ('#' ~ form.channelType.vars.id)|json_encode|raw }}
                        },
                        channelTypeEl: {{ ('#' ~ form.channelType.vars.id)|json_encode|raw }},
                        tokenEl: {
                            name: {{ form._token.vars.full_name|json_encode|raw }},
                            value: {{ form._token.vars.value|json_encode|raw }}
                        }
                    });
                    view.render();
                });
    </script>
{% endmacro %}
