{#
    Renders javascript for channel form
    param:
        form - Symfony\Component\Form\FormView
#}
{% macro renderChannelFormJS(form) %}
    <script type="text/javascript">
        require(['jquery', 'orocrmchannel/js/channel-view'],
                function ($, ChannelView) {
                    var view = new ChannelView({
                        formSelector: '#{{ form.vars.id }}',
                        fieldsSets: {
                            name: {{ form.name.vars.id|json_encode|raw }},
                            channelType: {{ form.channelType.vars.id|json_encode|raw }},
                            entities: {{ form.entities.vars.id|json_encode|raw }},
                            customerIdentity: {{ form.customerIdentity.vars.id|json_encode|raw }}
                        },
                        channelTypeEl: {{ ('#' ~ form.channelType.vars.id)|json_encode|raw }},
                        channelEntitiesEl: {{ ('#' ~ form.entities.vars.id)|json_encode|raw }}
                    });
                    view.render();
                });
    </script>
{% endmacro %}
